<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H3T05 - Juhlia saa, iloita saa</title>
    <style>
        main {
            width: 300px;
            border: 1px solid black;
            padding: 10px;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            background-color: rgb(161, 191, 245);
        }
        form {
            padding:5px;
        }
        #tulostusalue {
            margin: 5px;
            width: 92%;
            border: 1px solid black;
            padding-left:10px;
            height: 120px;
            background-color: "white";
        }
    </style>
</head>
<body>
    <main>
        <form>
            <label for="colors">Valitse juhlaväri:</label><br>
            <select name="colors" id="varit" onclick="väri()">
                <option value="placeholder" id="placeholder"></option>
                <option value="keltainen" id="keltainen">Keltainen</option>
                <option value="punainen" id="punainen">Punainen</option>
                <option value="sininen" id="sininen">Sininen</option>
                <option value="vihreä"id="vihreä">Vihreä</option>
                <option value="pinkki"id="pinkki">Pinkki</option>
            </select><br><br>
            <label for="mikajuhla">Mikä juhla?</label><br>
            <input id="juhla" onkeydown="return checkInput(event.key)">
            <br><br>
            <button type="button" id="nappi">Vaihda valittu taustaväri</button>
        </form>
        <div id="tulostusalue">
            <h3>Tulosalue</h3>
            <p id="valinta"></p>
            <p id="mikajuhula"></p>
        </div>

    </main>
    <script>
        
        // värimääritykset
        function väri(){
            let colors = document.getElementById("varit");
            let color = colors.options[colors.selectedIndex].value;

            if (color == "keltainen"){
                document.getElementById("valinta").innerHTML = "Valittu: #ffff00";
            }
            if (color == "punainen"){
                document.getElementById("valinta").innerHTML = "Valittu: #ff0000";
            }
            if (color == "sininen"){
                document.getElementById("valinta").innerHTML = "Valittu: #0000ff";
            }
            if (color == "vihreä"){
                document.getElementById("valinta").innerHTML = "Valittu: #00ff00";
            }
            if (color == "pinkki"){
                document.getElementById("valinta").innerHTML = "Valittu: #ffc0cb";
            }
        }
        // luokka, jolla muokataan DOMia
        class Vaihda {
            handleEvent(event){
                switch(event.type){
                    case "click":
                        let colors = document.getElementById("varit");
                        let color = colors.options[colors.selectedIndex].value;
                        function tarkistus(){
                            if (color == "keltainen"){
                                tulostusalue.style.backgroundColor = "#FFFF00";
                                
                                tulostusalue.style.color = "black";
                            } else if (color == "punainen"){
                                tulostusalue.style.backgroundColor = "#FF0000";

                                tulostusalue.style.color = "black";
                            } else if (color == "sininen"){
                                tulostusalue.style.backgroundColor = "#0000FF";
   
                                tulostusalue.style.color = "white";
                            } else if (color == "vihreä"){
                                tulostusalue.style.backgroundColor = "#00FF00";

                                tulostusalue.style.color = "black";
                            } else if (color == "pinkki"){
                                tulostusalue.style.backgroundColor = "#ffc0cb";
  
                                tulostusalue.style.color = "black";
                            }
                        }
                        tarkistus();
                        break;
                    case "keyup":

                        let input = document.getElementById("juhla").value;
                        document.getElementById("mikajuhula").innerHTML = input;
 
                        }
                        
                    }
                    }
                
        // funktio eväämään syöte numeroille
        function checkInput(key) {
            let letter = /^[a-zA-ZäÄöÖåÅ]+$/;
            return (key.match(letter)) || ['+','(',')','-','ArrowLeft','ArrowRight','Delete','Backspace'].includes(key);
        }

        // kutsutaan Vaihda-luokkaa eventlistener -metodilla.
        let muutajuhla = new Vaihda();
        nappi.addEventListener("click",muutajuhla);
        juhla.addEventListener("keyup",muutajuhla);
    </script>
</body>
</html>